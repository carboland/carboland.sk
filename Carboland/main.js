!function(){"use strict";var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.requestAnimationFrame=t}();var terrain=document.getElementById("terCanvas"),background=document.getElementById("bgCanvas"),terCtx=terrain.getContext("2d"),bgCtx=background.getContext("2d"),width=window.innerWidth,height=document.body.offsetHeight;height<400&&(height=400),terrain.width=background.width=width,terrain.height=background.height=height;var points=[],displacement=140,power=Math.pow(2,Math.ceil(Math.log(width)/Math.log(2)));points[0]=height-Math.random()*height/2-displacement,points[power]=height-Math.random()*height/2-displacement;for(var i=1;i<power;i*=2){for(var j=power/i/2;j<power;j+=power/i)points[j]=(points[j-power/i/2]+points[j+power/i/2])/2+Math.floor(Math.random()*-displacement+displacement);displacement*=.6}terCtx.beginPath();for(i=0;i<=width;i++)0===i?terCtx.moveTo(0,points[0]):void 0!==points[i]&&terCtx.lineTo(i,points[i]);function Star(t){this.size=2*Math.random(),this.speed=.1*Math.random(),this.x=t.x,this.y=t.y}function ShootingStar(){this.reset()}terCtx.lineTo(width,terrain.height),terCtx.lineTo(0,terrain.height),terCtx.lineTo(0,points[0]),terCtx.fill(),bgCtx.fillStyle="#05004c",bgCtx.fillRect(0,0,width,height),Star.prototype.reset=function(){this.size=2*Math.random(),this.speed=.1*Math.random(),this.x=width,this.y=Math.random()*height},Star.prototype.update=function(){this.x-=this.speed,this.x<0?this.reset():bgCtx.fillRect(this.x,this.y,this.size,this.size)},ShootingStar.prototype.reset=function(){this.x=Math.random()*width,this.y=0,this.len=80*Math.random()+10,this.speed=10*Math.random()+6,this.size=1*Math.random()+.1,this.waitTime=(new Date).getTime()+3e3*Math.random()+500,this.active=!1},ShootingStar.prototype.update=function(){this.active?(this.x-=this.speed,this.y+=this.speed,this.x<0||this.y>=height?this.reset():(bgCtx.lineWidth=this.size,bgCtx.beginPath(),bgCtx.moveTo(this.x,this.y),bgCtx.lineTo(this.x+this.len,this.y-this.len),bgCtx.stroke())):this.waitTime<(new Date).getTime()&&(this.active=!0)};var entities=[];for(i=0;i<height;i++)entities.push(new Star({x:Math.random()*width,y:Math.random()*height}));function animate(){bgCtx.fillStyle="#0f0f0f",bgCtx.fillRect(0,0,width,height),bgCtx.fillStyle="#ffffff",bgCtx.strokeStyle="#ffffff";for(var t=entities.length;t--;)entities[t].update();requestAnimationFrame(animate)}entities.push(new ShootingStar),entities.push(new ShootingStar),animate();